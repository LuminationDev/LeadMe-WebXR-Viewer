var a0_0x320537=a0_0x2121;(function(_0x29e88b,_0x336aab){var _0x3426f6=a0_0x2121,_0x27cae1=_0x29e88b();while(!![]){try{var _0x389995=-parseInt(_0x3426f6(0x15b))/0x1+parseInt(_0x3426f6(0x116))/0x2*(-parseInt(_0x3426f6(0x12d))/0x3)+parseInt(_0x3426f6(0x100))/0x4*(-parseInt(_0x3426f6(0x152))/0x5)+parseInt(_0x3426f6(0x154))/0x6*(-parseInt(_0x3426f6(0x161))/0x7)+-parseInt(_0x3426f6(0x113))/0x8+-parseInt(_0x3426f6(0x14d))/0x9*(-parseInt(_0x3426f6(0xfa))/0xa)+parseInt(_0x3426f6(0x127))/0xb;if(_0x389995===_0x336aab)break;else _0x27cae1['push'](_0x27cae1['shift']());}catch(_0x1e8b5e){_0x27cae1['push'](_0x27cae1['shift']());}}}(a0_0x52e6,0xace66));var robot=require(a0_0x320537(0x133));function a0_0x52e6(){var _0xcbba0b=['content_settings','startBtn','non\x20vr\x20experience','appClosed,','XjqAs','left','TzmKC','env','stringify','top','toString','existsSync','pointer','moveMouse','8818245sHXlvw','innerWidth','maximize','[Win32.NativeMethods]::ShowWindowAsync($handle,\x203)','stdin','820465KOBOMM','length','6266634ykDRwB','profile','canvas','hostname','17125548410000000','minimize','17125548410180728','1301059LksjIQ','www.thinglink.com','html','KbqrO','has-error','Start-Process\x20\x22vrmonitor://debugcommands/legacy_mirror_view_toggle\x22','7eOnVZn','get','hide','10BCfVjA','WIFHs','edu.cospaces.io','cMQzL','$sig\x20=\x20\x27[DllImport(\x22user32.dll\x22)]\x20public\x20static\x20extern\x20bool\x20ShowWindowAsync(IntPtr\x20hWnd,\x20int\x20nCmdShow);\x27;','getElementsByTagName','4GcRkOd','window','RcCMv','setAlwaysOnTop','setShutdownCallback','connect','parse','writeFileSync','spawn','TidbR','scrollY','(((.+)+)+)+$','getElementById','exit','https://14a93fe946924c759f2b63361110fae0@o1294571.ingest.sentry.io/4506713471516672','apply','stdout','first-continue\x20btn','cursor','9164888FiKHRY','end','none','1901722HKmpBD','getBoundingClientRect','invalid\x20share\x20code','LeadMeLabsConnection','CdXiX','MdpuB','stderr','App','child_process','Get-Process\x20|\x20Where\x20{$_.MainWindowTitle\x20-eq\x20\x22Legacy\x20Mirror\x22}','vWpWg','document','data','getAttribute','XmbVh','17125548413705202','mouseClick','47679016vyApaQ','LOCALAPPDATA','init','Window','user\x20closed','style','3xzbYAC','mouseToggle','down','dVZhY','closeAllWindows','constructor','robotjs','captureException','search','\x5cleadme-webxr-viewer\x5cUser\x20Data\x5cDefault\x5cPreferences','indexOf','close','webvr-ui-button','getElementsByClassName','powershell.exe','width','cxqjl','innerHeight'];a0_0x52e6=function(){return _0xcbba0b;};return a0_0x52e6();}const fs=require('fs'),Sentry=require('@sentry/node');Sentry[a0_0x320537(0x129)]({'dsn':a0_0x320537(0x10e)});const LeadMeLabsPlugin=require('@luminationdev/leadmelabs-plugin-javascript'),leadMeLabsConnection=new LeadMeLabsPlugin[(a0_0x320537(0x119))]();async function shutdownApp(_0x2b5dda){var _0x3e1a38=a0_0x320537;await closeLegacyMirror();try{leadMeLabsConnection['send'](_0x3e1a38(0x142)+_0x2b5dda),leadMeLabsConnection['disconnect']();}catch(_0x9bb08c){Sentry['captureException'](_0x9bb08c);}setTimeout(async()=>{var _0x2e7bde=_0x3e1a38;nw[_0x2e7bde(0x11d)][_0x2e7bde(0x131)](),nw[_0x2e7bde(0x11d)]['quit']();},0x3e8);}leadMeLabsConnection[a0_0x320537(0x104)](()=>{shutdownApp('');});try{leadMeLabsConnection[a0_0x320537(0x105)]();}catch(a0_0x496d21){Sentry[a0_0x320537(0x134)](a0_0x496d21);}function enableVrInPreferences(_0x34c759=!![]){var _0x2992b5=a0_0x320537,_0x2aabf7=(function(){var _0x632635=!![];return function(_0x5f28ea,_0x5514f8){var _0x11cb2a=_0x632635?function(){if(_0x5514f8){var _0x4bdda8=_0x5514f8['apply'](_0x5f28ea,arguments);return _0x5514f8=null,_0x4bdda8;}}:function(){};return _0x632635=![],_0x11cb2a;};}()),_0x57264b=_0x2aabf7(this,function(){var _0x4e902f=a0_0x2121;if(_0x4e902f(0x145)!=='TzmKC')_0x146c88('');else return _0x57264b['toString']()[_0x4e902f(0x135)](_0x4e902f(0x10b))[_0x4e902f(0x149)]()[_0x4e902f(0x132)](_0x57264b)[_0x4e902f(0x135)](_0x4e902f(0x10b));});_0x57264b();if(!fs[_0x2992b5(0x14a)](process[_0x2992b5(0x146)]['LOCALAPPDATA']+_0x2992b5(0x136))){_0x34c759&&setTimeout(()=>{enableVrInPreferences(![]);},0x2710);return;}var _0x185342=fs['readFileSync'](process[_0x2992b5(0x146)][_0x2992b5(0x128)]+_0x2992b5(0x136)),_0x4ad57e=JSON[_0x2992b5(0x106)](_0x185342);_0x4ad57e&&_0x4ad57e[_0x2992b5(0x155)]&&_0x4ad57e[_0x2992b5(0x155)][_0x2992b5(0x13f)]&&_0x4ad57e['profile'][_0x2992b5(0x13f)]['exceptions']?(_0x4ad57e[_0x2992b5(0x155)][_0x2992b5(0x13f)]['exceptions']['vr']={'https://edu.cospaces.io:443,*':{'last_modified':'17125548413807062','last_visit':_0x2992b5(0x158),'setting':0x1},'https://immersive-web.github.io:443,*':{'last_modified':_0x2992b5(0x15a),'last_visit':_0x2992b5(0x158),'setting':0x1},'https://www.thinglink.com:443,*':{'last_modified':_0x2992b5(0x125),'last_visit':_0x2992b5(0x158),'setting':0x1}},fs[_0x2992b5(0x107)](process[_0x2992b5(0x146)][_0x2992b5(0x128)]+_0x2992b5(0x136),JSON[_0x2992b5(0x147)](_0x4ad57e))):_0x34c759&&setTimeout(()=>{enableVrInPreferences(![]);},0x2710);}function a0_0x2121(_0x174c09,_0x1bc3e2){var _0x48e5de=a0_0x52e6();return a0_0x2121=function(_0x465975,_0x91ee21){_0x465975=_0x465975-0xf9;var _0x52e6fe=_0x48e5de[_0x465975];return _0x52e6fe;},a0_0x2121(_0x174c09,_0x1bc3e2);}try{enableVrInPreferences();}catch(a0_0x4045a7){Sentry[a0_0x320537(0x134)](a0_0x4045a7);}function getCoordinatesOfElement(_0x39cc34){var _0x43f5db=a0_0x320537;const _0xbf75ef=_0x39cc34[_0x43f5db(0x117)]();return{'x':_0xbf75ef[_0x43f5db(0x144)]+window['scrollX'],'y':_0xbf75ef[_0x43f5db(0x148)]+window[_0x43f5db(0x10a)]};}async function automationLoop(){var _0x25acb8=a0_0x320537;let _0x4685c7=nw[_0x25acb8(0x12a)][_0x25acb8(0x162)]();if(_0x4685c7)switch(_0x4685c7[_0x25acb8(0x101)]['location'][_0x25acb8(0x157)]){case _0x25acb8(0x15c):startThinglink();return;case _0x25acb8(0xfc):startCospaces();return;default:break;}setTimeout(automationLoop,0x7d0);}function clickOnElement(_0x3d9a1f){var _0x88663a=a0_0x320537;let _0x5c1856=nw[_0x88663a(0x12a)][_0x88663a(0x162)]();const _0x54da1c=getCoordinatesOfElement(_0x3d9a1f),_0x312565=_0x5c1856[_0x88663a(0x13c)]-_0x5c1856[_0x88663a(0x101)][_0x88663a(0x14e)],_0x920fce=_0x5c1856['height']-_0x5c1856[_0x88663a(0x101)][_0x88663a(0x13e)];robot[_0x88663a(0x14c)](_0x54da1c['x']+_0x5c1856['x']+_0x312565,_0x54da1c['y']+_0x5c1856['y']+_0x920fce),robot[_0x88663a(0x126)]();}function startThinglink(){var _0x27b0de=a0_0x320537;let _0x47c53c=nw[_0x27b0de(0x12a)]['get']();_0x47c53c['window'][_0x27b0de(0x121)][_0x27b0de(0xff)](_0x27b0de(0x15d))[0x0][_0x27b0de(0x12c)][_0x27b0de(0x112)]='none',thinglinkLoop();}async function thinglinkLoop(){var _0xd7738b=a0_0x320537;let _0x2eaa86=nw[_0xd7738b(0x12a)]['get']();const _0x16fea3=_0x2eaa86['x'],_0x283382=_0x2eaa86['y'];var _0x4ad03a=_0x2eaa86[_0xd7738b(0x101)][_0xd7738b(0x121)][_0xd7738b(0x10c)](_0xd7738b(0x140));_0x4ad03a&&clickOnElement(_0x4ad03a);var _0x22b223=_0x2eaa86['window']['document'][_0xd7738b(0x13a)](_0xd7738b(0x15f));if(_0x22b223[_0xd7738b(0x153)]>0x0){setTimeout(async()=>{var _0x5b3b00=_0xd7738b;shutdownApp(_0x5b3b00(0x118));},0x1388);return;}var _0x4175e3=_0x2eaa86['window'][_0xd7738b(0x121)][_0xd7738b(0x13a)](_0xd7738b(0x111));if(_0x4175e3[_0xd7738b(0x153)]>=0x1&&_0x4175e3[0x0][_0xd7738b(0x123)](_0xd7738b(0x12c))[_0xd7738b(0x137)]('display')===-0x1){clickOnElement(_0x4175e3[0x0]),setTimeout(()=>{var _0x56f982=_0xd7738b;if(_0x56f982(0x11a)!=='AQVmR')robot[_0x56f982(0x14c)](_0x16fea3+0xe6,_0x283382+0x78),robot[_0x56f982(0x12e)](_0x56f982(0x12f));else{if(_0x27e778){_0x3c1fc2=!![];return;}return;}},0x3e8),setTimeout(()=>{var _0x333255=_0xd7738b;_0x333255(0x130)!==_0x333255(0x130)?_0x3fe3a6['mouseToggle']('up'):robot['mouseToggle']('up');},0x4b0),setTimeout(()=>{var _0x52ff40=_0xd7738b;maximizeLegacyMirror(),_0x2eaa86['setAlwaysOnTop'](![]),_0x2eaa86['minimize'](),_0x2eaa86[_0x52ff40(0x101)][_0x52ff40(0x121)]['getElementsByTagName']('html')[0x0][_0x52ff40(0x12c)][_0x52ff40(0x112)]='';},0x9c4),_0x2eaa86['on'](_0xd7738b(0x138),async()=>{var _0x1bd6c7=_0xd7738b;nw[_0x1bd6c7(0x12a)][_0x1bd6c7(0x162)]()[_0x1bd6c7(0xf9)](),shutdownApp(_0x1bd6c7(0x12b));});return;}setTimeout(thinglinkLoop,0x7d0);}var clickedFirstCospacesButton=![],clickedSecondCospacesButton=![],clickedThirdCospacesButton=![],loopFlip=![];function startCospaces(){var _0x2fd7da=a0_0x320537;let _0x128f55=nw['Window'][_0x2fd7da(0x162)]();_0x128f55[_0x2fd7da(0x101)][_0x2fd7da(0x121)]['getElementsByTagName'](_0x2fd7da(0x15d))[0x0][_0x2fd7da(0x12c)][_0x2fd7da(0x112)]=_0x2fd7da(0x115),setTimeout(()=>{cospacesLoop();},0x3e8);}var cospacesSecondButtonLoopCount=0x0,cospacesFirstButtonLoopCount=0x0;async function cospacesLoop(){var _0x346059=a0_0x320537;let _0xf7e98d=nw[_0x346059(0x12a)][_0x346059(0x162)]();const _0x3dd5f8=_0xf7e98d['x'],_0x24b4cc=_0xf7e98d['y'];loopFlip=!loopFlip;if(!clickedFirstCospacesButton){cospacesFirstButtonLoopCount++;_0xf7e98d['window'][_0x346059(0x14e)]>=0x318?robot[_0x346059(0x14c)](0x6c+(_0xf7e98d['window'][_0x346059(0x14e)]-0x318)/0x2+0x10+_0x3dd5f8+(loopFlip?0x1:0x0),_0xf7e98d['window'][_0x346059(0x13e)]*0.6+0x34+_0x24b4cc):_0x346059(0x11b)!=='uolYd'?robot['moveMouse'](0x20+_0x3dd5f8+(loopFlip?0x1:0x0),_0xf7e98d[_0x346059(0x101)][_0x346059(0x13e)]*0.6+0x34+_0x24b4cc):_0x5cf30a[_0x346059(0x14c)](0x20+_0x522143+(_0x509378?0x1:0x0),_0x379140[_0x346059(0x101)][_0x346059(0x13e)]*0.6+0x34+_0x970027);var _0xf66c8d=_0xf7e98d[_0x346059(0x101)][_0x346059(0x121)][_0x346059(0xff)](_0x346059(0x156));if(_0xf66c8d[_0x346059(0x153)]>0x0){if(_0x346059(0x143)!==_0x346059(0x143)){if(_0x37c863){_0x33a00d=!![];return;}return;}else{var _0x143062=_0xf66c8d[0x0];if(_0x143062[_0x346059(0x12c)]['cursor']==='pointer')robot[_0x346059(0x126)](),clickedFirstCospacesButton=!![];else cospacesFirstButtonLoopCount>0x28&&shutdownApp('invalid\x20share\x20code');}}setTimeout(cospacesLoop,0x3e8);return;}if(!clickedSecondCospacesButton){cospacesSecondButtonLoopCount++,robot['moveMouse'](_0x3dd5f8+_0xf7e98d[_0x346059(0x101)][_0x346059(0x14e)]-0x10,_0x24b4cc+_0xf7e98d[_0x346059(0x101)][_0x346059(0x13e)]-0x10);var _0xf66c8d=_0xf7e98d['window'][_0x346059(0x121)][_0x346059(0xff)](_0x346059(0x156));if(_0xf66c8d[_0x346059(0x153)]>0x0){if(_0x346059(0x15e)===_0x346059(0x102))_0x51d248(),_0x4dd097['setAlwaysOnTop'](![]),_0x16270f['minimize'](),_0x409479[_0x346059(0x101)]['document'][_0x346059(0xff)](_0x346059(0x15d))[0x0][_0x346059(0x12c)][_0x346059(0x112)]='',_0x4e5f07['on'](_0x346059(0x138),async()=>{var _0x469cfa=_0x346059;_0x4d1bd1[_0x469cfa(0x12a)][_0x469cfa(0x162)]()['hide'](),_0x5123f2(_0x469cfa(0x12b));});else{var _0x143062=_0xf66c8d[0x0];if(_0x143062[_0x346059(0x12c)][_0x346059(0x112)]===_0x346059(0x14b))robot[_0x346059(0x126)](),clickedSecondCospacesButton=!![];else cospacesSecondButtonLoopCount>0x5&&shutdownApp(_0x346059(0x141));}}setTimeout(cospacesLoop,0x3e8);return;}if(!clickedThirdCospacesButton){robot[_0x346059(0x14c)](_0x3dd5f8+_0xf7e98d[_0x346059(0x101)]['innerWidth']-0x3a,_0x24b4cc+_0xf7e98d[_0x346059(0x101)][_0x346059(0x13e)]-0x20),robot[_0x346059(0x126)](),clickedThirdCospacesButton=!![],setTimeout(()=>{var _0x517150=_0x346059;_0x517150(0x120)===_0x517150(0x120)?(robot[_0x517150(0x14c)](_0x3dd5f8+0xe6,_0x24b4cc+0x78),robot['mouseToggle']('down')):(_0x3df4c9[_0x517150(0x14c)](_0xfd2096+0xe6,_0x2ab051+0x78),_0x2ca524[_0x517150(0x12e)](_0x517150(0x12f)));},0x3e8),setTimeout(()=>{var _0x224bf7=_0x346059;robot[_0x224bf7(0x12e)]('up');},0x4b0),setTimeout(()=>{var _0x2326e1=_0x346059;if('YRIFR'==='LTlga'){let _0x56f491=_0x3ae150[_0x2326e1(0x12a)][_0x2326e1(0x162)]();_0x56f491[_0x2326e1(0x101)][_0x2326e1(0x121)][_0x2326e1(0xff)](_0x2326e1(0x15d))[0x0][_0x2326e1(0x12c)]['cursor']='none',_0xd809df(()=>{_0x89f12b();},0x3e8);}else maximizeLegacyMirror(),_0xf7e98d[_0x2326e1(0x103)](![]),_0xf7e98d[_0x2326e1(0x159)](),_0xf7e98d[_0x2326e1(0x101)][_0x2326e1(0x121)][_0x2326e1(0xff)](_0x2326e1(0x15d))[0x0]['style'][_0x2326e1(0x112)]='',_0xf7e98d['on'](_0x2326e1(0x138),async()=>{var _0x3ea81a=_0x2326e1;_0x3ea81a(0x124)==='gbqQu'?_0x597c45[_0x3ea81a(0x134)](_0x23026b):(nw[_0x3ea81a(0x12a)][_0x3ea81a(0x162)]()['hide'](),shutdownApp(_0x3ea81a(0x12b)));});},0x9c4);return;}}async function webXrSampleLoop(){var _0x568699=a0_0x320537;let _0x81a601=nw[_0x568699(0x12a)][_0x568699(0x162)]();var _0x187e19=_0x81a601['window'][_0x568699(0x121)][_0x568699(0x13a)](_0x568699(0x139));if(_0x187e19[_0x568699(0x153)]>=0x1){clickOnElement(_0x187e19[0x0]);return;}setTimeout(webXrSampleLoop,0x3e8);}function maximizeLegacyMirror(){var _0x2bc6d0=a0_0x320537,_0x59cddf=require('child_process')[_0x2bc6d0(0x108)],_0x4966ee,_0x4edff7=![];_0x4966ee=_0x59cddf(_0x2bc6d0(0x13b),[_0x2bc6d0(0x11f)]),_0x4966ee['stdout']['on']('data',function(_0x231cca){var _0xd9af2e=_0x2bc6d0;if('puwwl'===_0xd9af2e(0x13d))_0x5b66c2[_0xd9af2e(0x14c)](_0x5de9cf+0xe6,_0x573b34+0x78),_0x44cb02[_0xd9af2e(0x12e)](_0xd9af2e(0x12f));else{if(_0x231cca){if(_0xd9af2e(0x109)!=='TidbR')return _0x22e2c3[_0xd9af2e(0x149)]()[_0xd9af2e(0x135)](_0xd9af2e(0x10b))[_0xd9af2e(0x149)]()['constructor'](_0x21b5cb)[_0xd9af2e(0x135)](_0xd9af2e(0x10b));else{_0x4edff7=!![];return;}}return;}}),_0x4966ee[_0x2bc6d0(0x11c)]['on'](_0x2bc6d0(0x122),function(_0x14dce7){}),_0x4966ee['on'](_0x2bc6d0(0x10d),function(){var _0x136dd8=_0x2bc6d0;if(!_0x4edff7){if('CGSTV'!==_0x136dd8(0xfb))return;else _0xdaae97(_0x136dd8(0x118));}var _0x52ab9f=require(_0x136dd8(0x11e))[_0x136dd8(0x108)],_0xd9b74e;_0xd9b74e=_0x52ab9f(_0x136dd8(0x13b),[_0x136dd8(0xfe)+'Add-Type\x20-MemberDefinition\x20$sig\x20-name\x20NativeMethods\x20-namespace\x20Win32;'+'$handle\x20=\x20(Get-Process\x20|\x20Where\x20{$_.MainWindowTitle\x20-eq\x20\x22Legacy\x20Mirror\x22}\x20|\x20Select\x20MainWindowHandle)[0].MainWindowHandle;'+_0x136dd8(0x150)]),_0xd9b74e[_0x136dd8(0x110)]['on']('data',function(_0x2f7ac1){}),_0xd9b74e[_0x136dd8(0x11c)]['on'](_0x136dd8(0x122),function(_0x398208){}),_0xd9b74e['on'](_0x136dd8(0x10d),function(){}),_0xd9b74e[_0x136dd8(0x151)][_0x136dd8(0x114)]();}),_0x4966ee[_0x2bc6d0(0x151)][_0x2bc6d0(0x114)]();}async function closeLegacyMirror(){var _0x5db6c0=a0_0x320537,_0x3b189d=![],_0x561856=require(_0x5db6c0(0x11e))[_0x5db6c0(0x108)],_0x1f019d;_0x1f019d=_0x561856(_0x5db6c0(0x13b),[_0x5db6c0(0x11f)]),_0x1f019d[_0x5db6c0(0x110)]['on'](_0x5db6c0(0x122),function(_0x2f84f1){if(_0x2f84f1){_0x3b189d=!![];return;}return;}),_0x1f019d['stderr']['on'](_0x5db6c0(0x122),function(_0x2c9312){}),_0x1f019d['on'](_0x5db6c0(0x10d),function(){var _0x502630=_0x5db6c0;if(_0x502630(0xfd)===_0x502630(0xfd)){if(!_0x3b189d)return;var _0x51978b=require(_0x502630(0x11e))[_0x502630(0x108)],_0x1d00a3;_0x1d00a3=_0x51978b(_0x502630(0x13b),[_0x502630(0x160)]),_0x1d00a3[_0x502630(0x110)]['on'](_0x502630(0x122),function(_0xeef956){}),_0x1d00a3[_0x502630(0x11c)]['on'](_0x502630(0x122),function(_0x197cc0){}),_0x1d00a3['on'](_0x502630(0x10d),function(){}),_0x1d00a3[_0x502630(0x151)][_0x502630(0x114)]();}else{var _0x1fd176=_0x4a0f26[_0x502630(0x10f)](_0x2759aa,arguments);return _0x5b24f7=null,_0x1fd176;}}),_0x1f019d['stdin'][_0x5db6c0(0x114)]();}setTimeout(automationLoop,0x7d0);let win=nw[a0_0x320537(0x12a)]['get']();win[a0_0x320537(0x14f)](),win[a0_0x320537(0x103)](!![]);